{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/scope","result":{"data":{"markdownRemark":{"id":"eac44af3-668c-54e4-b2b4-926d582bc393","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 960px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0e4fdce8ac22e09688c580e5bc4dcd7d/f0628/javascript_logo.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsSAAALEgHS3X78AAAB3UlEQVQ4y2P4fl+ObMQwqnmQaP7xAIQg7K93QexfD+W+3QMhwpq/3AXpgbD/vZQHct9dl/39VP7vM3mIfiyagRK/Hsm9vy5rZ8ER6Mn16bbsv6fyU9qENFRYxUSYgzy5Lu6R/PMYpB+75t+P5F5fkWVjY5SRYAbq3LhAjIGBQUqC2cqUHchIieL5/1we6Cicmt9cleXkZJSTZvn/RqG2kB+oZ3af8P/vihvniz4+Iw30PE5nQzVzMMpJsfx/IT+vTxioWVudbfk0ke9P5IHGfbuL188QzYqyLJ9vg4ItzJeLAQxUFFk2LxLF7uyv90Dx8euh/KvLshxAzXIsH2/KAoP35wv5tbNFXe05gPp5eRjP7JD8/0weVfM9uX8v5J+clwGSXx/IATUryLIAbXh1RQak+rvS/59Kxel8QP099YL/PyggNAMVAb03t08YaHBfg+DUNiGgIntLjp8P5G3N2dnZGPsbhfasFHexAVm+cKLw/7cYmjfMF+XmYoR4j5mZYcV0kf/vFKa1C/FwgwSZmEDi7g4cH27I/nyA6mdgUP1/JX/rmPTUdiGg5ad3SP4DJyaI4Kxu4a5awfVzRT/flf39WA5LIgEK/QFGxlsFoIXwZAh0FFwQaBAwkUPEAUiGpWGNv+yDAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/0e4fdce8ac22e09688c580e5bc4dcd7d/8ac56/javascript_logo.webp 240w,\n/static/0e4fdce8ac22e09688c580e5bc4dcd7d/d3be9/javascript_logo.webp 480w,\n/static/0e4fdce8ac22e09688c580e5bc4dcd7d/e46b2/javascript_logo.webp 960w,\n/static/0e4fdce8ac22e09688c580e5bc4dcd7d/92f8c/javascript_logo.webp 1200w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/0e4fdce8ac22e09688c580e5bc4dcd7d/e4891/javascript_logo.png 240w,\n/static/0e4fdce8ac22e09688c580e5bc4dcd7d/0ce91/javascript_logo.png 480w,\n/static/0e4fdce8ac22e09688c580e5bc4dcd7d/b7c40/javascript_logo.png 960w,\n/static/0e4fdce8ac22e09688c580e5bc4dcd7d/f0628/javascript_logo.png 1200w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/0e4fdce8ac22e09688c580e5bc4dcd7d/b7c40/javascript_logo.png\"\n          alt=\"javascript logo\"\n          title=\"javascript logo\"\n          loading=\"lazy\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p>우선 Scope에 대해 알아보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">outer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">outer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">a</code>에는 무슨 값이 들어있을까 하고 무슨 값이 들어 있는지 찾는 <strong>곳</strong>이 바로 <code class=\"language-text\">Scope</code>다. 일종의 표가 있다고 하자.</p>\n<p><img src=\"/media/Etc/scope/scope1.png\"></p>\n<p>위 표가 <code class=\"language-text\">function outer</code> 의 scope가 된다. 여러 함수가 들어 있다면 scope에 추가 될 것이다.</p>\n<p><strong>※ scope는 함수 단위로 적용된다.</strong></p>\n<p>예를 들어 <code class=\"language-text\">outer</code>함수 내부에 <code class=\"language-text\">inner</code>라는 함수를 넣었을 때는 <code class=\"language-text\">scope</code>는 어떻게 될까 ?</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">outer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">outer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><img src=\"/media/Etc/scope/scope2.png\"></p>\n<p>위 그림 처럼 될 것이다.</p>\n<p><strong><code class=\"language-text\">inner</code>가 a를 찾을 때, 들여다보는 표가 바로 <code class=\"language-text\">scope</code>이다.</strong></p>\n<h3 id=\"조금-더-나아가보자\"><a href=\"#%EC%A1%B0%EA%B8%88-%EB%8D%94-%EB%82%98%EC%95%84%EA%B0%80%EB%B3%B4%EC%9E%90\" aria-label=\"조금 더 나아가보자 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>조금 더 나아가보자.</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">outer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> b <span class=\"token operator\">=</span> <span class=\"token string\">\"영준\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">outer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">outer</code>안에 <code class=\"language-text\">b</code>가 선언되었고, <code class=\"language-text\">inner</code>안에서 <code class=\"language-text\">console.log(b)</code>를 입력했다.\n그러면 <code class=\"language-text\">inner</code>는 <code class=\"language-text\">b</code>를 어떻게 찾을까?</p>\n<p>먼저 그림과 같이</p>\n<p><img src=\"/media/Etc/scope/scope3.png\"></p>\n<p><code class=\"language-text\">outer</code>의 <code class=\"language-text\">scope</code>에 b가 들어가 있을 것이고, <code class=\"language-text\">inner</code>에서는 <code class=\"language-text\">b</code>가 없다.\n어떻게 b를 찾는지 순서를 보면,</p>\n<ol>\n<li><code class=\"language-text\">inner</code>의 <code class=\"language-text\">scope</code> 에서 <code class=\"language-text\">b</code>가 있는지 찾아본다.</li>\n<li><code class=\"language-text\">b</code>가 없으니 <code class=\"language-text\">inner</code>가 태어난 곳 바로 윗단계인 <code class=\"language-text\">outer</code> 에서 찾는다.</li>\n<li><code class=\"language-text\">outer</code>의 <code class=\"language-text\">scope</code>에는 <code class=\"language-text\">b</code>가 있으니, <code class=\"language-text\">console.log(b)</code>를 실행.</li>\n</ol>\n<p>위 순서대로 <code class=\"language-text\">scope</code>를 조사하여 찾는다. 그럼 만약에</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> c <span class=\"token operator\">=</span> <span class=\"token string\">\"병민\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">outer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> b <span class=\"token operator\">=</span> <span class=\"token string\">\"영준\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">outer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>위와 같은 상태면 어떻게 될까 ?? 여기서 <code class=\"language-text\">c</code>는 <code class=\"language-text\">outer</code> 함수안에 있지도 않다.</p>\n<p>그림으로 그려보면,</p>\n<p><img src=\"/media/Etc/scope/scope4.png\"></p>\n<p><code class=\"language-text\">inner scope</code> -> <code class=\"language-text\">outer scope</code> -> <code class=\"language-text\">global scope</code> 순서대로 찾게 된다.\n이렇게 연결된 것이 바로 <code class=\"language-text\">scope chain</code>이다.</p>\n<p><strong>이제 closure를 살펴보자.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token number\">1</span>  <span class=\"token keyword\">let</span> c <span class=\"token operator\">=</span> <span class=\"token string\">\"병민\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token number\">2</span>\n<span class=\"token number\">3</span>  <span class=\"token keyword\">function</span> <span class=\"token function\">outer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token number\">4</span>    <span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token number\">5</span>    <span class=\"token keyword\">let</span> b <span class=\"token operator\">=</span> <span class=\"token string\">\"영준\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token number\">6</span>\n<span class=\"token number\">7</span>    <span class=\"token keyword\">function</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token number\">8</span>      <span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n<span class=\"token number\">9</span>      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token number\">10</span>    <span class=\"token punctuation\">}</span>\n<span class=\"token number\">11</span>    <span class=\"token keyword\">return</span> inner<span class=\"token punctuation\">;</span>\n<span class=\"token number\">12</span>  <span class=\"token punctuation\">}</span>\n<span class=\"token number\">13</span>  <span class=\"token keyword\">let</span> test <span class=\"token operator\">=</span> <span class=\"token function\">outer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token number\">14</span>  <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>코드해석 : <code class=\"language-text\">outer()</code> 가 하는 일은 <code class=\"language-text\">line3 ~ line10</code>을 지나 <code class=\"language-text\">line 11</code> 에서 <code class=\"language-text\">inner</code>를 <code class=\"language-text\">return</code> 하고, 그 다음 <code class=\"language-text\">inner</code> 에서는 <code class=\"language-text\">line9</code> 에서 <code class=\"language-text\">console.log(b)</code>를 실행하는데, 이때 <code class=\"language-text\">b</code>는 <code class=\"language-text\">outer</code>에 있는 <code class=\"language-text\">영준</code>이다.</p>\n<ul>\n<li><code class=\"language-text\">line13</code>의 <code class=\"language-text\">test</code>는 <code class=\"language-text\">outer()</code> 에서 <code class=\"language-text\">inner</code>를 받게된다.</li>\n<li>그다음, 받게 된 <code class=\"language-text\">inner</code>를 <code class=\"language-text\">test()</code>에서 실행하게 된다.</li>\n</ul>\n<h4 id=\"클로저-설명\"><a href=\"#%ED%81%B4%EB%A1%9C%EC%A0%80-%EC%84%A4%EB%AA%85\" aria-label=\"클로저 설명 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>클로저 설명</h4>\n<p><strong><code class=\"language-text\">outer</code>의 <code class=\"language-text\">b</code>가 사라지는게 아니고, <code class=\"language-text\">inner</code>가 <code class=\"language-text\">b</code>를 사용할 때에도 <code class=\"language-text\">scope chain</code>을 가지고 다닌다. 라는게 <code class=\"language-text\">closure</code> 이다.</strong></p>\n<p>즉, <code class=\"language-text\">line13</code>에서 <code class=\"language-text\">outer()</code>를 <code class=\"language-text\">test</code>라는 이름에 담은 뒤에도, <code class=\"language-text\">scope chain</code> 이 살아있다.</p>\n<p><strong>밖으로 꺼낸 뒤에도, outer 가 실행되고 끝난 뒤에도 scope에 접근할 수 있는 것.</strong></p>","fields":{"slug":"/posts/scope","tagSlugs":null},"frontmatter":{"date":"2019-12-16T13:36:32.169Z","description":"Scope, Closure","tags":null,"title":"Scope, closure","socialImage":"/media/javascript_logo.png"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/scope"}}}